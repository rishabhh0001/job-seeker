{% extends "base.html" %}
{% load i18n %}
{% load account socialaccount %}
{% load crispy_forms_tags %}

{% block title %}Sign Up - JobPortal{% endblock %}

{% block content %}
<div className="min-h-screen bg-background flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div className="max-w-md w-full space-y-8 bg-card p-8 rounded-xl shadow-lg border border-border">
        <div className="text-center">
            <h2 className="mt-6 text-3xl font-bold text-foreground font-heading">
                Create an Account
            </h2>
            <p className="mt-2 text-sm text-muted-foreground">
                Join us to find your dream job
            </p>
        </div>

        <form className="mt-8 space-y-6" method="POST" action="{% url 'account_signup' %}">
            {% csrf_token %}

            {% if form.errors %}
            <div className="rounded-md bg-destructive/10 p-4 border border-destructive/20">
                <div className="flex">
                    <div className="ml-3">
                        <h3 className="text-sm font-medium text-destructive">
                            There were errors with your submission
                        </h3>
                        <div className="mt-2 text-sm text-destructive/90">
                            {{ form.non_field_errors }}
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

            <div className="space-y-4">
                {% for field in form %}
                <div className="space-y-2">
                    <label for="{{ field.id_for_label }}" className="block text-sm font-medium text-foreground">
                        {{ field.label }}
                    </label>
                    <div className="mt-1">
                        {{ field }}
                    </div>
                    {% if field.help_text %}
                    <p className="text-xs text-muted-foreground mt-1">{{ field.help_text }}</p>
                    {% endif %}
                    {% if field.errors %}
                    <p className="text-sm text-destructive mt-1">{{ field.errors.0 }}</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>

            {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
            {% endif %}

            <div>
                <button type="submit"
                    className="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
                    Sign Up
                </button>
            </div>

            <div className="text-center mt-4">
                <p className="text-sm text-muted-foreground">
                    Already have an account?
                    <a href="{% url 'account_login' %}" className="font-medium text-primary hover:text-primary/90">
                        Sign in
                    </a>
                </p>
            </div>
        </form>
    </div>
</div>

<style>
    /* Custom styles for Django template to match Next.js theme */
    input[type="text"],
    input[type="email"],
    input[type="password"] {
        appearance: none;
        background-color: hsl(var(--background));
        border-color: hsl(var(--border));
        border-width: 1px;
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        width: 100%;
        color: hsl(var(--foreground));
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="password"]:focus {
        outline: 2px solid transparent;
        outline-offset: 2px;
        border-color: hsl(var(--primary));
        box-shadow: 0 0 0 2px hsl(var(--ring));
    }
</style>
{% endblock %}